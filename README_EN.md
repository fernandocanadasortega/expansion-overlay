<!-- PROJECT SHIELDS -->
<!--
*** I'm using markdown "reference style" links for readability.
*** Reference links are enclosed in brackets [ ] instead of parentheses ( ).
*** See the bottom of this document for the declaration of the reference variables
*** for contributors-url, forks-url, etc. This is an optional, concise syntax you may use.
*** https://www.markdownguide.org/basic-syntax/#reference-style-links
-->

<div align="center">
  <a href="https://github.com/fernandocanadasortega/expansion-overlay/graphs/contributors">
    <img alt="Contributors" src="https://img.shields.io/github/contributors/fernandocanadasortega/expansion-overlay.svg?style=for-the-badge" />
  </a>
  <a href="https://github.com/fernandocanadasortega/expansion-overlay/issues">
    <img alt="Issues" src="https://img.shields.io/github/issues/fernandocanadasortega/expansion-overlay.svg?style=for-the-badge" />
  </a>
  <a href="https://github.com/fernandocanadasortega/expansion-overlay/pulls">
    <img alt="Pull requests" src="https://img.shields.io/github/issues-pr/fernandocanadasortega/expansion-overlay.svg?style=for-the-badge" />
  </a>
  <a href="https://github.com/fernandocanadasortega/expansion-overlay/forks">
    <img alt="Forks" src="https://img.shields.io/github/forks/fernandocanadasortega/expansion-overlay.svg?style=for-the-badge" />
  </a>
</div>

<!-- PROJECT LOGO -->
<br />
<div align="center">
  <a href="https://github.com/othneildrew/Best-README-Template">
    <img src="assets/logo.png" alt="Logo" width="80" height="80">
  </a>

  <h2 align="center">Expansion overlay</h2>

  <p align="center">
    Native Javascript Custom web component that displays an overlay expanding from a specific point.
    <br />
    <a href="README.md"><strong>Ir a la documentación en español »</strong></a>
    <br />
    <br />
    <a href="https://www.npmjs.com/package/expansion-overlay">NPM page</a>
    ·
    <a href="https://stackblitz.com/edit/stackblitz-starters-p1wa2f?file=src%2Fmain.ts">View Demo</a>
    ·
    <a href="https://github.com/fernandocanadasortega/expansion-overlay/issues/new?labels=bug&template=bug-report---.md">Report a bug</a>
    ·
    <a href="https://github.com/fernandocanadasortega/expansion-overlay/issues/new?labels=enhancement&template=feature-request---.md">Request feature</a>
  </p>
</div>

<br />

<!-- ABOUT THE PROJECT -->
## About the proyect

![](assets/Ejemplo%20expansion-overlay.gif)

Native Javascript Custom web component that displays an overlay, fully custom.

The component can be customizable in different ways:
* Vertical display configuration, upward or downward.
* Horizontal display configuration, can be set to left, right or middle alignment.
* Configuration that checks if the component it will expand from has a border-radius and applies it to the overlay.
* And many more :smile:.

<br />

<!-- GETTING STARTED -->
## Getting started

### Prerequisites

*This step has only been tested on Angular*. To use the component, an Angular configuration must be enabled within each component where it will be used.
* Enable **CUSTOM_ELEMENTS_SCHEMA**
  ```ts
  @Component({
    selector: 'password-strength-requirements',
    templateUrl: './password-strength.component.html',
    styleUrls: ['./password-strength.component.scss'],
    standalone: true,
    imports: [IonicModule, CommonModule, FormsModule, TranslateModule, RouterModule],
    schemas: [CUSTOM_ELEMENTS_SCHEMA]
  })
  ```
  >*By enabling **CUSTOM_ELEMENTS_SCHEMA** you can use custom tags, this tags are different from the native ones or those generated by Angular when defining a component. If this option is not activated, the component cannot be used.*
<br />

### Instalation

Once the configuration is enabled, we proceed to download the component from NPM.

1. Install the NPM package.
   ```sh
   npm install expansion-overlay
   ```
2. Import the JavaScript file into our component. *If using Angular, the step shown in the prerequisites is mandatory*.
   ```ts
   import '@expansion-overlay/expansion-overlay.js';
   ```
3. Add expansion-overlay tag to the component's HTML file. *Expansion-overlay has **three mandatory parameters**, see [Usage](#usage) section.*
   ```html
   <expansion-overlay expand-from-item-id="id-componente" component-to-expand-id="id-componente" expand-trigger-id="id-componente"></expansion-overlay>
   ```
<br />

> *To see the rest of the configuration go to [Available Parameters](#available-parameters) section.*.

<br />

<!-- USAGE -->
## Usage

The basic configuration of the component requiere three mandatory parameters. Below is a basic diagram with the three parameters along with a simple HTML example of the component.

![](assets/Diagrama%20de%20ejemplo%20básico.png)

```html
<div id="box-container" style="width: 200px; height: 100px; display: flex; justify-content: flex-end; align-items: center; border: 1px solid red; padding: 10px;">
  <button id="box-trigger" style="height: 50px;">Trigger</button>
</div>

<div id="div-i-want-to-overlay" style="width: 120px; height: 80px; border: 1px solid cyan; padding: 10px;">
  <span>I Want to overlay this div</span>
</div>

<expansion-overlay expand-from-item-id="box-container" component-to-expand-id="div-i-want-to-overlay" expand-trigger-id="box-trigger"></expansion-overlay>
```

<a href="https://stackblitz.com/edit/stackblitz-starters-p1wa2f?file=src%2Fmain.ts">See working example on stackblitz</a>

### expandFromItem parameter
Es el elemento desde donde se desplegará el expansion-overlay, puede ser cualquier elemento del html (*div, button, span, label, etc...*). Del elemento expandFromItem se obtendrán los valores para realizar los cálculos de alineamiento del expansion-overlay.

Hay dos maneras de enviar el parámetro expandFromItem, **expand-from-item-id** y **expand-from-item-class**, dependiendo si vas a enviar un **#ID** o un **.class**.

> Los parámetros **expand-from-item-id** y **expand-from-item-class** son mutuamente excluyentes, en caso de recibir los dos parámetros **expand-from-item-id** será usado por defecto.

> No puedes enviar el parámetro expandFromItem mediante **.class** si existe más de una clase con ese nombre en el DOM.

### expandTrigger parameter
Es el elemento que provoca la expansión y/o el cierre del expansion-overlay, puede ser cualquier elemento del html (*div, button, span, label, etc...*). *Normalmente es un botón*, pero se le puede asignar a cualquier elemento que soporte <code>addEventListener click</code>.

Hay dos maneras de enviar el parámetro expandTrigger, **expand-trigger-id** y **expand-trigger-class**, dependiendo si vas a enviar un **#ID** o un **.class**.

> Los parámetros **expand-trigger-id** y **expand-trigger-class** son mutuamente excluyentes, en caso de recibir los dos parámetros **expand-trigger-id** será usado por defecto.

> No puedes enviar el parámetro expandFromItem mediante **.class** si existe más de una clase con ese nombre en el DOM.

### componentToExpand parameter
Es el elemento que se introducirá en el expansion-overlay, el elemento que tendrá la animación de despliegue, puede ser cualquier elemento del html (*div, button, span, label, etc...*). Del elemento componentToExpand se obtendrán los valores de width y height del expansion-overlay, que además se usan durante el cálculo para comprobar que el expansion-overlay cabe dentro de la pantalla.

Este elemento se puede ubicar en cualquier parte del DOM, **no es necesario que esté dentro de la etiqueta <code>expansion-overlay</code>**, debido a que cuando se cree el expansion-overlay el elemento de componentToExpand se introducirá dentro de un wrapper creado por el expansion-overlay que lo hará desaparecer.

Hay dos maneras de enviar el parámetro componentToExpand, **component-to-expand-id** y **component-to-expand-class**, dependiendo si vas a enviar un **#ID** o un **.class**.

> Los parámetros **component-to-expand-id** y **component-to-expand-class** son mutuamente excluyentes, en caso de recibir los dos parámetros **component-to-expand-id** será usado por defecto.

> No puedes enviar el parámetro expandFromItem mediante **.class** si existe más de una clase con ese nombre en el DOM.

<br />

<!-- Available parameters -->
## Available parameters

#### Element from which the expansion-overlay will be displayed.
  
| Parameters             | Type   | Description                      | ¿Parameter required?  | Default value     |
| ---------------------- | ------ | -------------------------------- | --------------------- | ----------------- |
| expand-from-item-id    | string | #ID value of HTMLElement         | ✅                    | null              |
| expand-from-item-class | string | .class value of HTMLElement      | ✅                    | null              |

> Los parámetros **expand-from-item-id** y **expand-from-item-class** son mutuamente excluyentes, en caso de recibir los dos parámetros **expand-from-item-id** será usado por defecto.

> No puedes enviar el parámetro expandFromItem mediante **.class** si existe más de una clase con ese nombre en el DOM.
<br />

#### Element to be inserted into the expansion overlay, the element that will have the expansion animation.
  
| Parámetros                | Tipo   | Descripción                      | ¿Parámetro requerido? | Valor por defecto |
| ------------------------- | ------ | -------------------------------- | --------------------- | ----------------- |
| component-to-expand-id    | string | Valor del #ID del HTMLElement    | ✅                    | null              |
| component-to-expand-class | string | Valor del .class del HTMLElement | ✅                    | null              |

> Los parámetros **component-to-expand-id** y **component-to-expand-class** son mutuamente excluyentes, en caso de recibir los dos parámetros **component-to-expand-id** será usado por defecto.

> No puedes enviar el parámetro expandFromItem mediante **.class** si existe más de una clase con ese nombre en el DOM.
<br />

#### Definition of the element that triggers the expansion. *Usually a button*, but it can be assigned to any element that supports <code>addEventListener click</code>.
  
| Parámetros           | Tipo   | Descripción                      | ¿Parámetro requerido? | Valor por defecto |
| -------------------- | ------ | -------------------------------- | --------------------- | ----------------- |
| expand-trigger-id    | string | Valor del #ID del HTMLElement    | ✅                    | null              |
| expand-trigger-class | string | Valor del .class del HTMLElement | ✅                    | null              |

> Los parámetros **expand-trigger-id** y **expand-trigger-class** son mutuamente excluyentes, en caso de recibir los dos parámetros **expand-trigger-id** será usado por defecto.

> No puedes enviar el parámetro expandFromItem mediante **.class** si existe más de una clase con ese nombre en el DOM.
<br />

#### Component alignments
  
| Parámetros             | Tipo    | Descripción                                                   | ¿Parámetro requerido? | Valor por defecto | Opciones válidas      |
| ---------------------- | ------- | ------------------------------------------------------------- | --------------------- | ----------------- | --------------------- |
| horizontal-align       | string  | Indica donde se alineará el expansion-overlay en el eje X     | ❎                    | left              | left / middle / right |
| vertical-align         | string  | Indica donde se alineará el expansion-overlay en el eje Y     | ❎                    | bottom            | top / bottom          |
| force-horizontal-align | boolean | Fuerza a utilizar únicamente el horizontalAlign seleccionado  | ❎                    | false             |                       |
| force-vertical-align   | boolean | Fuerza a utilizar únicamente el vertical-align seleccionado   | ❎                    | false             |                       |

> Si se establece **horizontal-align: 'left'** el expansion-overlay se pegará a la izquierda y si necesita más espacio crecerá hacia la derecha.

> Si se establece **vertical-align: 'top'** el expansion-overlay se colocará por encima del objeto y la animación de expansión será de abajo hacia arriba.

> Si se fuerza la alineación, *tanto horizontal como vertical*, se ignorará la función que cambia la alineación del expansion-overlay de forma automática cuando no hay espacio suficiente.
<br />

#### Component size
  
| Parámetros            | Tipo    | Descripción                                                                         | ¿Parámetro requerido? | Valor por defecto | Opciones válidas            |
| --------------------- | ------- | ----------------------------------------------------------------------------------- | --------------------- | ----------------- | --------------------------- |
| inherit-parent-width  | boolean | Indica si el width del expansion-overlay será igual que el width de expandFromItem  | ❎                    | true              |                             |
| inherit-parent-height | boolean | Indica si el height del expansion-overlay será igual que el width de expandFromItem | ❎                    | true              |                             |
| custom-width          | string  | Indica un width específico para el expansion-overlay                                | ❎                    |                   | 350px / 150em / 50% / 200vw |
| custom-height         | string  | Indica un height específico para el expansion-overlay                               | ❎                    |                   | 350px / 150em / 50% / 200vh |

> Los parámetros **inherit-parent-width** y **custom-width** son mutuamente excluyentes, en caso de recibir los dos parámetros o si solo se recibe **custom-width** pero **inherit-parent-width=true** por defecto, **inherit-parent-width** será usado por defecto.

> Los parámetros **inherit-parent-height** y **custom-height** son mutuamente excluyentes, en caso de recibir los dos parámetros o si solo se recibe **custom-height** pero **inherit-parent-height=true** por defecto, **inherit-parent-height** será usado por defecto.
<br />

#### Other parameters
  
| Parámetros                         | Tipo    | Descripción                                                                               | ¿Parámetro requerido? | Valor por defecto | Opciones válidas      |
| ---------------------------------- | ------- | ----------------------------------------------------------------------------------------- | --------------------- | ----------------- | --------------------- |
| animation-duration                 | string  | Tiempo de la animación de despliegue del expansion-overlay                                | ❎                    | 0.25s             | 0.20s / 500ms         |
| show-backdrop                      | boolean | Indica si se mostrará un backdrop al desplegarse el expansion-overlay                     | ❎                    | true              |                       |
| expand-from-item-hide-round-border | boolean | Indica si el expansion-overlay ocultará el border-radius de expandFromItem al desplegarse | ❎                    | false             |                       |

> Al ocultar el backdrop es posible interactuar con el resto de la aplicación cuando el expansion-overlay aún está desplegado. Al hacer click en el backdrop se cerrará automaticamente el expansion-overlay.
>
> El z-index del backdrop es 1000, para colocar cosas por encima del backdrop utilizar z-index mayor o igual a 101.

> Al activar **expand-from-item-hide-round-border** se ocultará el border-radius de expandFromItem al desplegarse, es solo un cambio estético para que no se vea un borde redondeado y luego el expansion-overlay. El valor del border-radius de expandFromItem se aplicará al expansion-overlay.

<br />

<!-- CONTRIBUTING -->
## Contributors

Thank you for contributing to this project! 😊 Any contributions to the project are **greatly appreciated**.

If you have any suggestions to improve the component you can create a **fork** of this repository and submit a **pull request**, or simply create a [feature request](https://github.com/fernandocanadasortega/expansion-overlay/issues/new?labels=enhancement&template=feature-request---.md).

If you find any errors in the project, please [let me know](https://github.com/fernandocanadasortega/expansion-overlay/issues/new?labels=bug&template=bug-report---.md) so I can fix them. You can also create a **fork** of this repository and then submit a **pull request**.

Thank you for contributing!! 😄

### To colaborate follow these steps:

1. **Create a Fork** of the proyect.
2. **Create a branch** for your bug or feature.
   ```sh
   git checkout -b feature/AmazingFeature
   ```
3. **Create a commit** with your changes.
   ```sh
   git commit -m 'Add some Amazing features'
   ```
6. **Push your changes** into your remote branch.
   ```sh
   git push origin feature/AmazingFeature
   ```
8. **Create a Pull Request** in the repository.

### Top contributors:

<a href="https://github.com/fernandocanadasortega/expansion-overlay/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=fernandocanadasortega/expansion-overlay" alt="contrib.rocks image" />
</a>

<br />

<!-- LICENSE -->
## License
<img src="assets/cc_deed.png" alt="CC Deed">

Distributed under the ***Creative Commons Deed Only Attribution*** license. You can use the code at your discretion, but if you clone the project and upload it to a different repository instead of making a pull request to this repository, please cite the original project, preferably in the README.

> The licensee has the right to copy, distribute, display, and perform the work, as well as create derivative works, provided that they acknowledge and cite the work in the manner specified by the author or licensor.

<br />

<!-- ACKNOWLEDGMENTS -->
## Acknowledgments

This Readme was made possible thanks to the templates and GitHub publications on specific cases for errors in Readme files.

* [Best-README-Template by othneildrew](https://github.com/othneildrew/Best-README-Template)
* [README example by anuraghazra](https://codesandbox.io/p/sandbox/github-readme-stats-mh75j)
